<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>One Dark Chat</title>
<style>
  body {
    background: #121212;
    color: #eee;
    font-family: 'Vazir', sans-serif;
    padding: 20px;
    display: flex;
    flex-direction: column;
    height: 100vh;
    max-width: 600px;
    margin: auto;
    position: relative;
  }
  header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
  }
  header h1 {
    color: #ff4444;
    text-shadow: 0 0 5px #ff4444aa;
    font-size: 28px;
    margin: 0;
  }
  header .creator {
    color: #888;
    font-size: 14px;
    font-weight: 500;
    user-select: none;
  }
  #chat {
    flex: 1;
    background: #1e1e1e;
    border-radius: 10px;
    padding: 15px;
    overflow-y: auto;
    margin-bottom: 15px;
    box-shadow: 0 0 10px #880000aa;
  }
  .message {
    max-width: 75%;
    margin-bottom: 12px;
    padding: 10px 14px;
    border-radius: 15px;
    line-height: 1.3;
    font-size: 16px;
    white-space: pre-wrap;
  }
  .left {
    background: #2a2a2a;
    align-self: flex-start;
    border-top-left-radius: 0;
  }
  .right {
    background: #880000;
    align-self: flex-end;
    border-top-right-radius: 0;
  }
  #nextBtn {
    background: #880000;
    color: #fff;
    border: none;
    border-radius: 10px;
    padding: 12px;
    font-size: 18px;
    cursor: pointer;
    box-shadow: 0 0 10px #880000aa;
  }
  #nextBtn:disabled {
    background: #440000;
    cursor: default;
  }
</style>
</head>
<body>

<header>
  <h1>One Dark Chat</h1>
  <div class="creator">ساخته شده توسط Rob Lucci</div>
</header>

<div id="chat"></div>
<button id="nextBtn">پیام بعدی</button>

<script>
  const stories = [
    [
      {from: 'left', text: 'سلام... می‌دونی چرا اینجا هستیم؟'},
      {from: 'right', text: 'نه... تو که گفتی یه سرنخ داری!'},
      {from: 'left', text: 'دقیقاً، یه نفر تو این شهر داره همه رو ناپدید می‌کنه.'},
      {from: 'right', text: 'کی؟ چطور؟'},
      {from: 'left', text: 'کسی که هیچ‌کس نمی‌بینه، ولی رد پایش رو می‌ذاره...'},
      {from: 'right', text: 'این یعنی ما هم خطرناکه؟'},
      {from: 'left', text: 'باید سریع بفهمیم قبل از اینکه نوبت‌مون بشه.'},
      {from: 'right', text: 'آره، شب شروع شد، گوش کن... صداها رو می‌شنوی؟'},
      {from: 'left', text: '...'},
      {from: 'right', text: 'یه نفر داره نزدیک میشه!'},
      {from: 'left', text: 'دوست من، فرار کن!'},
    ],
    [
      {from: 'right', text: 'تو اون خونه متروکه بودی؟ چرا برگشتی؟'},
      {from: 'left', text: 'فکر کردم کسی هست که بهم کمک کنه... ولی اشتباه کردم.'},
      {from: 'right', text: 'چی دیدی؟'},
      {from: 'left', text: 'چیزایی که نباید هیچ‌کس ببینه... چهره‌ی تاریکی که هیچوقت فراموش نمی‌کنم.'},
      {from: 'right', text: 'تو تنها کسی هستی که زنده موندی، اما این یعنی خطر هنوز هست.'},
      {from: 'left', text: 'من دیگه نمی‌تونم این راز رو پیش خودم نگه دارم.'},
      {from: 'right', text: 'پس باید یه راه پیدا کنیم قبل از اینکه به سراغمون بیان.'},
      {from: 'left', text: 'فکر کنم کسی الان داره گوش می‌ده...'},
    ],
  ];

  let currentStoryIndex = 0;
  let currentMsgIndex = 0;

  const chatDiv = document.getElementById('chat');
  const nextBtn = document.getElementById('nextBtn');

  function showNextMessage() {
    if (currentMsgIndex >= stories[currentStoryIndex].length) {
      nextBtn.disabled = true;
      nextBtn.textContent = 'پایان داستان';
      return;
    }

    const msg = stories[currentStoryIndex][currentMsgIndex];
    const msgDiv = document.createElement('div');
    msgDiv.classList.add('message', msg.from);
    msgDiv.textContent = '';
    chatDiv.appendChild(msgDiv);
    chatDiv.scrollTop = chatDiv.scrollHeight;

    let charIndex = 0;
    function typeChar() {
      if (charIndex < msg.text.length) {
        msgDiv.textContent += msg.text.charAt(charIndex);
        charIndex++;
        setTimeout(typeChar, 30);
        chatDiv.scrollTop = chatDiv.scrollHeight;
      } else {
        currentMsgIndex++;
        nextBtn.disabled = false;
        nextBtn.textContent = 'پیام بعدی';
      }
    }
    nextBtn.disabled = true;
    typeChar();
  }

  nextBtn.addEventListener('click', showNextMessage);

  showNextMessage();
</script>

</body>
</html>
